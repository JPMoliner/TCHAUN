<!DOCTYPE html>
<html lang="pt-br">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet"/>
    <link rel="stylesheet" href="chat.css"> 
    <title>Chat</title>
</head>
<body>
    <div class="container">
        <div class="side">
            <!--header/Parte do meu perfil e imagem-->
            <div class="header">
                <div class="avatar">
                    <a href="/TCHAUN/Front/Chat/profile/profile.html" class="profile-link">
                        <img src="Pictures/user.png" alt="Foto do perfil">
                    </a>
                </div>
                <div class="title" id="usernick">Meu perfil</div>
            </div>

            <!-- aqui começa o menu embaixo do Meu perfil-->
            <div class="menu"> 
                <ul>
                    <li><a><button class='btn' id="matches-btn">Matches</button></a></li>
                    <li><a><button class='btn' id="messages-btn">Mensagens</button></a></li>
                </ul>    
            </div>
            <!--Area das mensagens-->
            <div class="messages">
                
            </div>

            <div class="logout">
                <button class="btn" onclick="logout()">Sair</button>
            </div>
        </div>

        <!-- Área de Chat -->
        <div class="main-chat active">
            <div class="chat-header">
                <div class="chat-user">Yuta</div>
            </div>
            <div class="chat-messages">
                <!-- Mensagens do chat -->
            </div>
            <div class="chat-input">
                <input type="text" id="message-input" placeholder="Digite sua mensagem..."/>
                <button onclick="sendMessage()">Enviar</button>
            </div>
        </div>

        <!-- Área de Matches -->
        <div class="main-matches hidden">
            <div class="matches-header">
                <button class="search-btn" onclick="novo_chat()">Buscar</button>
                <div class="tags-container">
                    <div class="tags">
                        <label><input type="checkbox" name="tags" value="Filmes"> Filmes</label>
                        <label><input type="checkbox" name="tags" value="Drinks"> Drinks</label>
                        <label><input type="checkbox" name="tags" value="Pets"> Pets</label>
                        <label><input type="checkbox" name="tags" value="Musica"> Musica</label>
                        <label><input type="checkbox" name="tags" value="Festas"> Festas</label>
                        <label><input type="checkbox" name="tags" value="sextou"> sextou</label>
                        <label><input type="checkbox" name="tags" value="Viagem"> Viagem</label>
                        <label><input type="checkbox" name="tags" value="Academia"> Academia</label>
                        <label><input type="checkbox" name="tags" value="Já puxou cadeia"> Já puxou cadeia</label>
                        <label><input type="checkbox" name="tags" value="Arte"> Arte</label>
                        <label><input type="checkbox" name="tags" value="Fazendo Faculdade"> Fazendo Faculdade</label>
                        <label><input type="checkbox" name="tags" value="Monogamia"> Monogamia</label>
                        <label><input type="checkbox" name="tags" value="Poligamia"> Poligamia</label>
                        <label><input type="checkbox" name="tags" value="Esportes"> Esportes</label>
                        <label><input type="checkbox" name="tags" value="Não Fumo"> Não Fumo</label>
                        <label><input type="checkbox" name="tags" value="Natureza"> Natureza</label>
                        <label><input type="checkbox" name="tags" value="Praia"> Praia</label>
                        <label><input type="checkbox" name="tags" value="Cozinhar"> Cozinhar</label>
                        <label><input type="checkbox" name="tags" value="Coisas Novas"> Coisas Novas</label>
                        <label><input type="checkbox" name="tags" value="Feijoada Completa"> Feijoada Completa</label>
                        <label><input type="checkbox" name="tags" value="Fumante"> Fumante</label>
                        <label><input type="checkbox" name="tags" value="Roblox"> Roblox</label>
                        <label><input type="checkbox" name="tags" value="Games"> Games</label>
                        <label><input type="checkbox" name="tags" value="Clube das Winks"> Clube das Winks</label>
                        <label><input type="checkbox" name="tags" value="Churrasco"> Churrasco</label>
                        <label><input type="checkbox" name="tags" value="Maquiagem"> Maquiagem</label>
                        <label><input type="checkbox" name="tags" value="4 é par"> 4 é par</label>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <script type="module">
        import { sendMessage, logout, openChat, showMatches, showMessages, novo_chat, update_chats } from './chat.js';
        window.sendMessage = sendMessage;
        window.logout = logout;
        window.openChat = openChat;
        window.showMatches = showMatches;
        window.showMessages = showMessages;
        window.novo_chat = novo_chat;
        window.update_chats = update_chats;
    
        document.addEventListener('DOMContentLoaded', update_chats);

        // Adicionar evento de clique para trocar entre matches e mensagens
        document.getElementById('matches-btn').addEventListener('click', showMatches);
        document.getElementById('messages-btn').addEventListener('click', showMessages);

        // Adicionar evento de clique para alterar a cor das tags
        document.querySelectorAll('.tags input').forEach(input => {
            input.addEventListener('change', function() {
                if (this.checked) {
                    this.parentElement.classList.add('selected');
                } else {
                    this.parentElement.classList.remove('selected');
                }
            });
        });
    </script>
</body>
</html>
